@page
@model CDM.InventorySystem.Pages.Items.EditModel
@{
    ViewData["Title"] = "Edit Item";
}

<div class="container">
    <div class="row justify-content-center">
        <div class="col-md-8">
            <div class="card">
                <div class="card-header">
                    <h4 class="mb-0">Edit Item: @Model.Item.ItemName</h4>
                </div>
                <div class="card-body">
                    <form method="post">
                        <input type="hidden" asp-for="Item.ItemId" />
                        <input type="hidden" asp-for="Item.BarcodeId" />
                        <input type="hidden" asp-for="Item.DateAdded" />

                        <div class="row mb-3">
                            <div class="col-md-6">
                                <label class="form-label">Barcode ID</label>
                                <input type="text" class="form-control" value="@Model.Item.BarcodeId" readonly />
                                <small class="form-text text-muted">Barcode cannot be changed</small>
                            </div>
                            <div class="col-md-6">
                                <label class="form-label">Date Added</label>
                                <input type="text" class="form-control" value="@Model.Item.DateAdded.ToString("MMM dd, yyyy")" readonly />
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-md-6">
                                <div class="mb-3">
                                    <label asp-for="Item.ItemName" class="form-label">Item Name *</label>
                                    <input asp-for="Item.ItemName" class="form-control" />
                                    <span asp-validation-for="Item.ItemName" class="text-danger"></span>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="mb-3">
                                    <label asp-for="Item.Category" class="form-label">Category *</label>
                                    <select asp-for="Item.Category" class="form-select">
                                        <option value="Keyboard">Keyboard</option>
                                        <option value="Mouse">Mouse</option>
                                        <option value="Monitor">Monitor</option>
                                        <option value="Laptop">Laptop</option>
                                        <option value="Computer">Computer</option>
                                        <option value="Printer">Printer</option>
                                        <option value="Projector">Projector</option>
                                        <option value="Tablet">Tablet</option>
                                        <option value="Phone">Phone</option>
                                        <option value="Network">Network</option>
                                        <option value="Accessory">Accessory</option>
                                        <option value="Cable">Cable</option>
                                    </select>
                                    <span asp-validation-for="Item.Category" class="text-danger"></span>
                                </div>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-md-6">
                                <div class="mb-3">
                                    <label asp-for="Item.Brand" class="form-label">Brand</label>
                                    <input asp-for="Item.Brand" class="form-control" />
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="mb-3">
                                    <label asp-for="Item.Model" class="form-label">Model</label>
                                    <input asp-for="Item.Model" class="form-control" />
                                </div>
                            </div>
                        </div>

                        <div class="mb-3">
                            <label asp-for="Item.Specification" class="form-label">Specification</label>
                            <textarea asp-for="Item.Specification" class="form-control" rows="3"></textarea>
                        </div>

                        <div class="row">
                            <div class="col-md-4">
                                <div class="mb-3">
                                    <label asp-for="Item.CurrentStock" class="form-label">Current Stock *</label>
                                    <input asp-for="Item.CurrentStock" class="form-control" type="number" min="0" />
                                    <span asp-validation-for="Item.CurrentStock" class="text-danger"></span>
                                </div>
                            </div>
                            <div class="col-md-4">
                                <div class="mb-3">
                                    <label asp-for="Item.MinStockLevel" class="form-label">Min Stock Level *</label>
                                    <input asp-for="Item.MinStockLevel" class="form-control" type="number" min="1" />
                                    <span asp-validation-for="Item.MinStockLevel" class="text-danger"></span>
                                </div>
                            </div>
                            <div class="col-md-4">
                                <div class="mb-3">
                                    <label asp-for="Item.Condition" class="form-label">Condition</label>
                                    <select asp-for="Item.Condition" class="form-select">
                                        <option value="New">New</option>
                                        <option value="Good">Good</option>
                                        <option value="Fair">Fair</option>
                                        <option value="Poor">Poor</option>
                                    </select>
                                </div>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-md-6">
                                <div class="mb-3">
                                    <label asp-for="Item.Location" class="form-label">Location</label>
                                    <input asp-for="Item.Location" class="form-control" />
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="mb-3">
                                    <label asp-for="Item.PurchaseDate" class="form-label">Purchase Date</label>
                                    <input asp-for="Item.PurchaseDate" class="form-control" type="date" />
                                </div>
                            </div>
                        </div>

                        <div class="mb-3">
                            <label asp-for="Item.PurchasePrice" class="form-label">Purchase Price</label>
                            <input asp-for="Item.PurchasePrice" class="form-control" type="number" step="0.01" />
                        </div>

                        <div class="d-flex justify-content-between">
                            <a class="btn btn-secondary" href="/Inventory">Cancel</a>
                            <div>
                                <button type="submit" class="btn btn-primary me-2">Update Item</button>
                                <a class="btn btn-outline-info" href="/Items/CheckOut?id=@Model.Item.ItemId">
                                    Check Out This Item
                                </a>
                            </div>
                        </div>
                    </form>

                    <!-- Barcode Display -->
                    <div class="mt-4 p-3 border rounded">
                        <h6>Item Barcode</h6>
                        <div class="text-center">
                            <p class="mt-2 mb-0"><strong>@Model.Item.BarcodeId</strong></p>
                            <small class="text-muted">Scan this barcode for quick operations</small>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

@section Scripts {
    <partial name="_ValidationScriptsPartial" />
}